<html>
<body>
    aoc187
    <canvas id="Canvas1" width="1500" height="1500" style="border: 1px solid black;">
<script>
var c1 = document.getElementById("Canvas1");
var ct1 = c1.getContext("2d");
    var ins=[], grid=[],disp=[],step=[],walk=[]
    var proc
  fileLoad();
    async function fileLoad() {
  try {
    const response = await fetch('info18.txt');
    var data = await response.text();
   
    ins = data.split('\n');
  } catch (error) {
    alert('Error reading file:'+error);
  }
     start()
    }
 var sc=12
function start(){    
display()
}
    
function display(){
    var instr=[]
    var x=40,y=40
    ct1.font="12px Monospace"
   ct1.clearRect(0,20,800,800)
    for(k=0;k<100;k++){
        grid[k]="....................................................................................................".split("")
    }
    grid[y][x]="#"
    for(k=0;k<ins.length-1;k++){
      instr=ins[k].split(" ")
      walk[k]=instr[0]
      step[k]=instr[1]
    
     // ct1.fillText(walk[k]+".."+step[k], 10, 15+sc*k)
     for(z=0; z<+step[k];z++){
        if(walk[k]=="R"){x++}
        if(walk[k]=="L"){x--}
        if(walk[k]=="D"){y++}
        if(walk[k]=="U"){y--}
        grid[y][x]="#"
        }
       
    }
         show()
    setTimeout(fill,400)
}
function show(){
    for(n=0;n<100;n++){
        for(m=0;m<100;m++){
            ct1.fillText(grid[n][m], n*sc,12+m*sc)
        }
    }
}
function fill(){
    flood(50,50)
    setTimeout(show,1000)
}
function flood(a,b){
    if(grid[b][a]!="."){return}
    grid[b][a]="1"
    flood(a+1,b)
    flood(a-1,b)
    flood(a,b+1)
    flood(a,b-1)
}
</script>
</body>
</html>
