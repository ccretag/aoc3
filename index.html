<html>
<body>
    aoc21
    <canvas id="Canvas1" width="2500" height="2500" style="border: 1px solid black;">
<script>
var c1 = document.getElementById("Canvas1");
var ct1 = c1.getContext("2d");
    var ins=[], grid=[],disp=[],step=[],walk=[]
     var sc=5,lcount,q=0
    

    async function fileLoad() {
  try {
    const response = await fetch('info21.txt');
    var data = await response.text();
   
    ins = data.split('\n');
  } catch (error) {
    alert('Error reading file:'+error);
  }
        lcount=ins.length-1
        alert(ins[lcount])
        alert("last read ="+ins[lcount+1])
     
    }


fileLoad()
setup()
display()

function setup(){
    for(k=0;k<lcount;k++){
        grid[k]=ins[k].split("")
    }
}
function display(){
  ct1.font="8px Monospace"
    for(g=0;g<lcount;g++){
        for(f=0;f<grid[0].length;f++){
         ct1.fillText(grid[g][f],f*sc,12+ g*sc)
        }
    }
    
}
 
    /*
    for(k=0;k<ins.length-1;k++){
      instr=ins[k].split(" ")
      walk[k]=instr[0]
      step[k]=instr[1]
    }
    next()
}
function next(){
    
     // ct1.fillText(walk[k]+".."+step[k], 10, 15+sc*k)
     for(z=0; z<+step[q];z++){
        if(walk[q]=="R"){x++}
        if(walk[q]=="L"){x--}
        if(walk[q]=="D"){y++}
        if(walk[q]=="U"){y--}
        grid[y][x]="#"
         floodc++
        }
    if(q%100==0){show();ct1.fillText(q,0,10)}
    
    q++
       if(q<walk.length){setTimeout(next,10)}
    else{show();alert("finished"); setTimeout(fill,400) }
    }
         
function fill(){
    flood(fillx,filly)
    setInterval(show,1500)
}
function flood(a,b){
    if(grid[b][a]!="."){return}
    grid[b][a]="1"
    floodc++
    setTimeout(function(){flood(a+1,b)},10)
    setTimeout(function(){flood(a-1,b)},10)
    setTimeout(function(){flood(a,b+1)},10)
    setTimeout(function(){flood(a,b-1)},10)
}
  
*/
</script>
</body>
</html>
